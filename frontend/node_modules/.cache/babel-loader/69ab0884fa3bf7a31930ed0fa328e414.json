{"remainingRequest":"/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/node_modules/babel-loader/lib/index.js!/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/src/components/Calendar/Calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/src/components/Calendar/Calendar.vue","mtime":1649072570703},{"path":"/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/babel.config.js","mtime":1648118922441},{"path":"/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/node_modules/cache-loader/dist/cjs.js","mtime":1649410681772},{"path":"/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/node_modules/babel-loader/lib/index.js","mtime":1649410682196},{"path":"/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/node_modules/cache-loader/dist/cjs.js","mtime":1649410681772},{"path":"/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/node_modules/vue-loader/lib/index.js","mtime":1649410682324}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHlwZTogIm1vbnRoIiwKICAgICAgdHlwZXM6IFsibW9udGgiLCAid2VlayIsICJkYXkiLCAiNGRheSJdLAogICAgICBtb2RlOiAic3RhY2siLAogICAgICBtb2RlczogWyJzdGFjayIsICJjb2x1bW4iXSwKICAgICAgd2Vla2RheTogWzAsIDEsIDIsIDMsIDQsIDUsIDZdLAogICAgICB3ZWVrZGF5czogW3sKICAgICAgICB0ZXh0OiAiU3VuIC0gU2F0IiwKICAgICAgICB2YWx1ZTogWzAsIDEsIDIsIDMsIDQsIDUsIDZdCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiTW9uIC0gU3VuIiwKICAgICAgICB2YWx1ZTogWzEsIDIsIDMsIDQsIDUsIDYsIDBdCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiTW9uIC0gRnJpIiwKICAgICAgICB2YWx1ZTogWzEsIDIsIDMsIDQsIDVdCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiTW9uLCBXZWQsIEZyaSIsCiAgICAgICAgdmFsdWU6IFsxLCAzLCA1XQogICAgICB9XSwKICAgICAgdmFsdWU6ICIiLAogICAgICBldmVudHM6IFtdLAogICAgICBjb2xvcnM6IFsiIzIxOTZGMyIsICIjM0Y1MUI1IiwgIiM2NzNBQjciLCAiIzAwQkNENCIsICIjNENBRjUwIiwgIiNGRjk4MDAiLCAiIzc1NzU3NSJdLAogICAgICBuYW1lczogWyJNZWV0aW5nIiwgIkhvbGlkYXkiLCAiUFRPIiwgIlRyYXZlbCIsICJFdmVudCIsICJCaXJ0aGRheSIsICJDb25mZXJlbmNlIiwgIlBhcnR5Il0sCiAgICAgIGRyYWdFdmVudDogbnVsbCwKICAgICAgZHJhZ1N0YXJ0OiBudWxsLAogICAgICBjcmVhdGVFdmVudDogbnVsbCwKICAgICAgY3JlYXRlU3RhcnQ6IG51bGwsCiAgICAgIGV4dGVuZE9yaWdpbmFsOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3RhcnREcmFnOiBmdW5jdGlvbiBzdGFydERyYWcoX3JlZikgewogICAgICB2YXIgZXZlbnQgPSBfcmVmLmV2ZW50LAogICAgICAgICAgdGltZWQgPSBfcmVmLnRpbWVkOwoKICAgICAgaWYgKGV2ZW50ICYmIHRpbWVkKSB7CiAgICAgICAgdGhpcy5kcmFnRXZlbnQgPSBldmVudDsKICAgICAgICB0aGlzLmRyYWdUaW1lID0gbnVsbDsKICAgICAgICB0aGlzLmV4dGVuZE9yaWdpbmFsID0gbnVsbDsKICAgICAgfQogICAgfSwKICAgIHN0YXJ0VGltZTogZnVuY3Rpb24gc3RhcnRUaW1lKHRtcykgewogICAgICB2YXIgbW91c2UgPSB0aGlzLnRvVGltZSh0bXMpOwoKICAgICAgaWYgKHRoaXMuZHJhZ0V2ZW50ICYmIHRoaXMuZHJhZ1RpbWUgPT09IG51bGwpIHsKICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmRyYWdFdmVudC5zdGFydDsKICAgICAgICB0aGlzLmRyYWdUaW1lID0gbW91c2UgLSBzdGFydDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNyZWF0ZVN0YXJ0ID0gdGhpcy5yb3VuZFRpbWUobW91c2UpOwogICAgICAgIHRoaXMuY3JlYXRlRXZlbnQgPSB7CiAgICAgICAgICBuYW1lOiAiRXZlbnQgIyIuY29uY2F0KHRoaXMuZXZlbnRzLmxlbmd0aCksCiAgICAgICAgICBjb2xvcjogdGhpcy5ybmRFbGVtZW50KHRoaXMuY29sb3JzKSwKICAgICAgICAgIHN0YXJ0OiB0aGlzLmNyZWF0ZVN0YXJ0LAogICAgICAgICAgZW5kOiB0aGlzLmNyZWF0ZVN0YXJ0LAogICAgICAgICAgdGltZWQ6IHRydWUKICAgICAgICB9OwogICAgICAgIHRoaXMuZXZlbnRzLnB1c2godGhpcy5jcmVhdGVFdmVudCk7CiAgICAgIH0KICAgIH0sCiAgICBleHRlbmRCb3R0b206IGZ1bmN0aW9uIGV4dGVuZEJvdHRvbShldmVudCkgewogICAgICB0aGlzLmNyZWF0ZUV2ZW50ID0gZXZlbnQ7CiAgICAgIHRoaXMuY3JlYXRlU3RhcnQgPSBldmVudC5zdGFydDsKICAgICAgdGhpcy5leHRlbmRPcmlnaW5hbCA9IGV2ZW50LmVuZDsKICAgIH0sCiAgICBtb3VzZU1vdmU6IGZ1bmN0aW9uIG1vdXNlTW92ZSh0bXMpIHsKICAgICAgdmFyIG1vdXNlID0gdGhpcy50b1RpbWUodG1zKTsKCiAgICAgIGlmICh0aGlzLmRyYWdFdmVudCAmJiB0aGlzLmRyYWdUaW1lICE9PSBudWxsKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5kcmFnRXZlbnQuc3RhcnQ7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMuZHJhZ0V2ZW50LmVuZDsKICAgICAgICB2YXIgZHVyYXRpb24gPSBlbmQgLSBzdGFydDsKICAgICAgICB2YXIgbmV3U3RhcnRUaW1lID0gbW91c2UgLSB0aGlzLmRyYWdUaW1lOwogICAgICAgIHZhciBuZXdTdGFydCA9IHRoaXMucm91bmRUaW1lKG5ld1N0YXJ0VGltZSk7CiAgICAgICAgdmFyIG5ld0VuZCA9IG5ld1N0YXJ0ICsgZHVyYXRpb247CiAgICAgICAgdGhpcy5kcmFnRXZlbnQuc3RhcnQgPSBuZXdTdGFydDsKICAgICAgICB0aGlzLmRyYWdFdmVudC5lbmQgPSBuZXdFbmQ7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5jcmVhdGVFdmVudCAmJiB0aGlzLmNyZWF0ZVN0YXJ0ICE9PSBudWxsKSB7CiAgICAgICAgdmFyIG1vdXNlUm91bmRlZCA9IHRoaXMucm91bmRUaW1lKG1vdXNlLCBmYWxzZSk7CiAgICAgICAgdmFyIG1pbiA9IE1hdGgubWluKG1vdXNlUm91bmRlZCwgdGhpcy5jcmVhdGVTdGFydCk7CiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4KG1vdXNlUm91bmRlZCwgdGhpcy5jcmVhdGVTdGFydCk7CiAgICAgICAgdGhpcy5jcmVhdGVFdmVudC5zdGFydCA9IG1pbjsKICAgICAgICB0aGlzLmNyZWF0ZUV2ZW50LmVuZCA9IG1heDsKICAgICAgfQogICAgfSwKICAgIGVuZERyYWc6IGZ1bmN0aW9uIGVuZERyYWcoKSB7CiAgICAgIHRoaXMuZHJhZ1RpbWUgPSBudWxsOwogICAgICB0aGlzLmRyYWdFdmVudCA9IG51bGw7CiAgICAgIHRoaXMuY3JlYXRlRXZlbnQgPSBudWxsOwogICAgICB0aGlzLmNyZWF0ZVN0YXJ0ID0gbnVsbDsKICAgICAgdGhpcy5leHRlbmRPcmlnaW5hbCA9IG51bGw7CiAgICB9LAogICAgY2FuY2VsRHJhZzogZnVuY3Rpb24gY2FuY2VsRHJhZygpIHsKICAgICAgaWYgKHRoaXMuY3JlYXRlRXZlbnQpIHsKICAgICAgICBpZiAodGhpcy5leHRlbmRPcmlnaW5hbCkgewogICAgICAgICAgdGhpcy5jcmVhdGVFdmVudC5lbmQgPSB0aGlzLmV4dGVuZE9yaWdpbmFsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgaSA9IHRoaXMuZXZlbnRzLmluZGV4T2YodGhpcy5jcmVhdGVFdmVudCk7CgogICAgICAgICAgaWYgKGkgIT09IC0xKSB7CiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnNwbGljZShpLCAxKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuY3JlYXRlRXZlbnQgPSBudWxsOwogICAgICB0aGlzLmNyZWF0ZVN0YXJ0ID0gbnVsbDsKICAgICAgdGhpcy5kcmFnVGltZSA9IG51bGw7CiAgICAgIHRoaXMuZHJhZ0V2ZW50ID0gbnVsbDsKICAgIH0sCiAgICByb3VuZFRpbWU6IGZ1bmN0aW9uIHJvdW5kVGltZSh0aW1lKSB7CiAgICAgIHZhciBkb3duID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlOwogICAgICB2YXIgcm91bmRUbyA9IDE1OyAvLyBtaW51dGVzCgogICAgICB2YXIgcm91bmREb3duVGltZSA9IHJvdW5kVG8gKiA2MCAqIDEwMDA7CiAgICAgIHJldHVybiBkb3duID8gdGltZSAtIHRpbWUgJSByb3VuZERvd25UaW1lIDogdGltZSArIChyb3VuZERvd25UaW1lIC0gdGltZSAlIHJvdW5kRG93blRpbWUpOwogICAgfSwKICAgIHRvVGltZTogZnVuY3Rpb24gdG9UaW1lKHRtcykgewogICAgICByZXR1cm4gbmV3IERhdGUodG1zLnllYXIsIHRtcy5tb250aCAtIDEsIHRtcy5kYXksIHRtcy5ob3VyLCB0bXMubWludXRlKS5nZXRUaW1lKCk7CiAgICB9LAogICAgZ2V0RXZlbnRDb2xvcjogZnVuY3Rpb24gZ2V0RXZlbnRDb2xvcihldmVudCkgewogICAgICB2YXIgcmdiID0gcGFyc2VJbnQoZXZlbnQuY29sb3Iuc3Vic3RyaW5nKDEpLCAxNik7CiAgICAgIHZhciByID0gcmdiID4+IDE2ICYgMHhmZjsKICAgICAgdmFyIGcgPSByZ2IgPj4gOCAmIDB4ZmY7CiAgICAgIHZhciBiID0gcmdiID4+IDAgJiAweGZmOwogICAgICByZXR1cm4gZXZlbnQgPT09IHRoaXMuZHJhZ0V2ZW50ID8gInJnYmEoIi5jb25jYXQociwgIiwgIikuY29uY2F0KGcsICIsICIpLmNvbmNhdChiLCAiLCAwLjcpIikgOiBldmVudCA9PT0gdGhpcy5jcmVhdGVFdmVudCA/ICJyZ2JhKCIuY29uY2F0KHIsICIsICIpLmNvbmNhdChnLCAiLCAiKS5jb25jYXQoYiwgIiwgMC43KSIpIDogZXZlbnQuY29sb3I7CiAgICB9LAogICAgZ2V0RXZlbnRzOiBmdW5jdGlvbiBnZXRFdmVudHMoX3JlZjIpIHsKICAgICAgdmFyIHN0YXJ0ID0gX3JlZjIuc3RhcnQsCiAgICAgICAgICBlbmQgPSBfcmVmMi5lbmQ7CiAgICAgIHZhciBldmVudHMgPSBbXTsKICAgICAgdmFyIG1pbiA9IG5ldyBEYXRlKCIiLmNvbmNhdChzdGFydC5kYXRlLCAiVDAwOjAwOjAwIikpLmdldFRpbWUoKTsKICAgICAgdmFyIG1heCA9IG5ldyBEYXRlKCIiLmNvbmNhdChlbmQuZGF0ZSwgIlQyMzo1OTo1OSIpKS5nZXRUaW1lKCk7CiAgICAgIHZhciBkYXlzID0gKG1heCAtIG1pbikgLyA4NjQwMDAwMDsKICAgICAgdmFyIGV2ZW50Q291bnQgPSB0aGlzLnJuZChkYXlzLCBkYXlzICsgMjApOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudENvdW50OyBpKyspIHsKICAgICAgICB2YXIgdGltZWQgPSB0aGlzLnJuZCgwLCAzKSAhPT0gMDsKICAgICAgICB2YXIgZmlyc3RUaW1lc3RhbXAgPSB0aGlzLnJuZChtaW4sIG1heCk7CiAgICAgICAgdmFyIHNlY29uZFRpbWVzdGFtcCA9IHRoaXMucm5kKDIsIHRpbWVkID8gOCA6IDI4OCkgKiA5MDAwMDA7CgogICAgICAgIHZhciBfc3RhcnQgPSBmaXJzdFRpbWVzdGFtcCAtIGZpcnN0VGltZXN0YW1wICUgOTAwMDAwOwoKICAgICAgICB2YXIgX2VuZCA9IF9zdGFydCArIHNlY29uZFRpbWVzdGFtcDsKCiAgICAgICAgdmFyIGFsbERheSA9IHRoaXMucm5kKDAsIDMpID09PSAwOwogICAgICAgIGV2ZW50cy5wdXNoKHsKICAgICAgICAgIG5hbWU6IHRoaXMucm5kRWxlbWVudCh0aGlzLm5hbWVzKSwKICAgICAgICAgIGNvbG9yOiB0aGlzLnJuZEVsZW1lbnQodGhpcy5jb2xvcnMpLAogICAgICAgICAgc3RhcnQ6IF9zdGFydCwKICAgICAgICAgIGVuZDogX2VuZCwKICAgICAgICAgIHRpbWVkOiB0aW1lZAogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLmV2ZW50cyA9IGV2ZW50czsKICAgIH0sCiAgICBybmQ6IGZ1bmN0aW9uIHJuZChhLCBiKSB7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKChiIC0gYSArIDEpICogTWF0aC5yYW5kb20oKSkgKyBhOwogICAgfSwKICAgIHJuZEVsZW1lbnQ6IGZ1bmN0aW9uIHJuZEVsZW1lbnQoYXJyKSB7CiAgICAgIHJldHVybiBhcnJbdGhpcy5ybmQoMCwgYXJyLmxlbmd0aCAtIDEpXTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACAA;AAAA;AACAC,mBADA;AAEAC,6CAFA;AAGAC,mBAHA;AAIAC,gCAJA;AAKAC,oCALA;AAMAC,iBACA;AAAAC;AAAAC;AAAA,OADA,EAEA;AAAAD;AAAAC;AAAA,OAFA,EAGA;AAAAD;AAAAC;AAAA,OAHA,EAIA;AAAAD;AAAAC;AAAA,OAJA,CANA;AAYAA,eAZA;AAaAC,gBAbA;AAcAC,eACA,SADA,EAEA,SAFA,EAGA,SAHA,EAIA,SAJA,EAKA,SALA,EAMA,SANA,EAOA,SAPA,CAdA;AAuBAC,cACA,SADA,EAEA,SAFA,EAGA,KAHA,EAIA,QAJA,EAKA,OALA,EAMA,UANA,EAOA,YAPA,EAQA,OARA,CAvBA;AAiCAC,qBAjCA;AAkCAC,qBAlCA;AAmCAC,uBAnCA;AAoCAC,uBApCA;AAqCAC;AArCA;AAAA,GADA;AAwCAC;AACAC,aADA,2BACA;AAAA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA,KAPA;AAQAC,aARA,qBAQAC,GARA,EAQA;AACA;;AAEA;AACA;AAEA;AACA,OAJA,MAIA;AACA;AACA;AACAC,oDADA;AAEAC,6CAFA;AAGAC,iCAHA;AAIAC,+BAJA;AAKAC;AALA;AAQA;AACA;AACA,KA3BA;AA4BAC,gBA5BA,wBA4BAC,KA5BA,EA4BA;AACA;AACA;AACA;AACA,KAhCA;AAiCAC,aAjCA,qBAiCAR,GAjCA,EAiCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,OAVA,MAUA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA,KAtDA;AAuDAS,WAvDA,qBAuDA;AACA;AACA;AACA;AACA;AACA;AACA,KA7DA;AA8DAC,cA9DA,wBA8DA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KA9EA;AA+EAC,aA/EA,qBA+EAC,IA/EA,EA+EA;AAAA;AACA,uBADA,CACA;;AACA;AAEA,oBACAA,2BADA,GAEAA,6CAFA;AAGA,KAtFA;AAuFAC,UAvFA,kBAuFAb,GAvFA,EAuFA;AACA,sBACAA,QADA,EAEAA,aAFA,EAGAA,OAHA,EAIAA,QAJA,EAKAA,UALA,EAMAc,OANA;AAOA,KA/FA;AAgGAC,iBAhGA,yBAgGAR,KAhGA,EAgGA;AACA;AACA;AACA;AACA;AAEA,uDACAS,CADA,eACAC,CADA,eACAC,CADA,cAEAX,4CACAS,CADA,eACAC,CADA,eACAC,CADA,cAEAX,WAJA;AAKA,KA3GA;AA6GAY,aA7GA,4BA6GA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AACA;;AACA;;AAEA;AAEA9B;AACAY,2CADA;AAEAC,6CAFA;AAGAC,uBAHA;AAIAC,mBAJA;AAKAC;AALA;AAOA;;AAEA;AACA,KAxIA;AAyIAe,OAzIA,eAyIAC,CAzIA,EAyIAH,CAzIA,EAyIA;AACA;AACA,KA3IA;AA4IAI,cA5IA,sBA4IAC,GA5IA,EA4IA;AACA;AACA;AA9IA;AAxCA","names":["data","type","types","mode","modes","weekday","weekdays","text","value","events","colors","names","dragEvent","dragStart","createEvent","createStart","extendOriginal","methods","startDrag","startTime","tms","name","color","start","end","timed","extendBottom","event","mouseMove","endDrag","cancelDrag","roundTime","time","toTime","getTime","getEventColor","r","g","b","getEvents","rnd","a","rndElement","arr"],"sourceRoot":"src/components/Calendar","sources":["Calendar.vue"],"sourcesContent":["<template>\n  <v-row class=\"fill-height\">\n    <v-col>\n      <v-sheet tile height=\"54\" class=\"d-flex\">\n        <v-btn icon class=\"ma-2\" @click=\"$refs.calendar.prev()\">\n          <v-icon>mdi-chevron-left</v-icon>\n        </v-btn>\n        <v-select\n          v-model=\"type\"\n          :items=\"types\"\n          dense\n          outlined\n          hide-details\n          class=\"ma-2\"\n          label=\"type\"\n        ></v-select>\n        <v-select\n          v-model=\"mode\"\n          :items=\"modes\"\n          dense\n          outlined\n          hide-details\n          label=\"event-overlap-mode\"\n          class=\"ma-2\"\n        ></v-select>\n        <v-select\n          v-model=\"weekday\"\n          :items=\"weekdays\"\n          dense\n          outlined\n          hide-details\n          label=\"weekdays\"\n          class=\"ma-2\"\n        ></v-select>\n        <v-spacer></v-spacer>\n        <v-btn icon class=\"ma-2\" @click=\"$refs.calendar.next()\">\n          <v-icon>mdi-chevron-right</v-icon>\n        </v-btn>\n      </v-sheet>\n\n      <v-sheet height=\"600\">\n        <v-calendar\n          ref=\"calendar\"\n          v-model=\"value\"\n          color=\"primary\"\n          :weekdays=\"weekday\"\n          :type=\"type\"\n          :events=\"events\"\n          :event-color=\"getEventColor\"\n          :event-ripple=\"false\"\n          :event-overlap-mode=\"mode\"\n        :event-overlap-threshold=\"30\"\n          @change=\"getEvents\"\n          @mousedown:event=\"startDrag\"\n          @mousedown:time=\"startTime\"\n          @mousemove:time=\"mouseMove\"\n          @mouseup:time=\"endDrag\"\n          @mouseleave.native=\"cancelDrag\"\n        >\n          <template v-slot:event=\"{ event, timed, eventSummary }\">\n            <div class=\"v-event-draggable\" v-html=\"eventSummary()\"></div>\n            <div\n              v-if=\"timed\"\n              class=\"v-event-drag-bottom\"\n              @mousedown.stop=\"extendBottom(event)\"\n            ></div>\n          </template>\n        </v-calendar>\n      </v-sheet>\n    </v-col>\n  </v-row>\n</template>\n<script>\nexport default {\n  data: () => ({\n    type: \"month\",\n    types: [\"month\", \"week\", \"day\", \"4day\"],\n    mode: \"stack\",\n    modes: [\"stack\", \"column\"],\n    weekday: [0, 1, 2, 3, 4, 5, 6],\n    weekdays: [\n      { text: \"Sun - Sat\", value: [0, 1, 2, 3, 4, 5, 6] },\n      { text: \"Mon - Sun\", value: [1, 2, 3, 4, 5, 6, 0] },\n      { text: \"Mon - Fri\", value: [1, 2, 3, 4, 5] },\n      { text: \"Mon, Wed, Fri\", value: [1, 3, 5] },\n    ],\n    value: \"\",\n    events: [],\n    colors: [\n      \"#2196F3\",\n      \"#3F51B5\",\n      \"#673AB7\",\n      \"#00BCD4\",\n      \"#4CAF50\",\n      \"#FF9800\",\n      \"#757575\",\n    ],\n    names: [\n      \"Meeting\",\n      \"Holiday\",\n      \"PTO\",\n      \"Travel\",\n      \"Event\",\n      \"Birthday\",\n      \"Conference\",\n      \"Party\",\n    ],\n    dragEvent: null,\n    dragStart: null,\n    createEvent: null,\n    createStart: null,\n    extendOriginal: null,\n  }),\n  methods: {\n    startDrag({ event, timed }) {\n      if (event && timed) {\n        this.dragEvent = event;\n        this.dragTime = null;\n        this.extendOriginal = null;\n      }\n    },\n    startTime(tms) {\n      const mouse = this.toTime(tms);\n\n      if (this.dragEvent && this.dragTime === null) {\n        const start = this.dragEvent.start;\n\n        this.dragTime = mouse - start;\n      } else {\n        this.createStart = this.roundTime(mouse);\n        this.createEvent = {\n          name: `Event #${this.events.length}`,\n          color: this.rndElement(this.colors),\n          start: this.createStart,\n          end: this.createStart,\n          timed: true,\n        };\n\n        this.events.push(this.createEvent);\n      }\n    },\n    extendBottom(event) {\n      this.createEvent = event;\n      this.createStart = event.start;\n      this.extendOriginal = event.end;\n    },\n    mouseMove(tms) {\n      const mouse = this.toTime(tms);\n\n      if (this.dragEvent && this.dragTime !== null) {\n        const start = this.dragEvent.start;\n        const end = this.dragEvent.end;\n        const duration = end - start;\n        const newStartTime = mouse - this.dragTime;\n        const newStart = this.roundTime(newStartTime);\n        const newEnd = newStart + duration;\n\n        this.dragEvent.start = newStart;\n        this.dragEvent.end = newEnd;\n      } else if (this.createEvent && this.createStart !== null) {\n        const mouseRounded = this.roundTime(mouse, false);\n        const min = Math.min(mouseRounded, this.createStart);\n        const max = Math.max(mouseRounded, this.createStart);\n\n        this.createEvent.start = min;\n        this.createEvent.end = max;\n      }\n    },\n    endDrag() {\n      this.dragTime = null;\n      this.dragEvent = null;\n      this.createEvent = null;\n      this.createStart = null;\n      this.extendOriginal = null;\n    },\n    cancelDrag() {\n      if (this.createEvent) {\n        if (this.extendOriginal) {\n          this.createEvent.end = this.extendOriginal;\n        } else {\n          const i = this.events.indexOf(this.createEvent);\n          if (i !== -1) {\n            this.events.splice(i, 1);\n          }\n        }\n      }\n\n      this.createEvent = null;\n      this.createStart = null;\n      this.dragTime = null;\n      this.dragEvent = null;\n    },\n    roundTime(time, down = true) {\n      const roundTo = 15; // minutes\n      const roundDownTime = roundTo * 60 * 1000;\n\n      return down\n        ? time - (time % roundDownTime)\n        : time + (roundDownTime - (time % roundDownTime));\n    },\n    toTime(tms) {\n      return new Date(\n        tms.year,\n        tms.month - 1,\n        tms.day,\n        tms.hour,\n        tms.minute\n      ).getTime();\n    },\n    getEventColor(event) {\n      const rgb = parseInt(event.color.substring(1), 16);\n      const r = (rgb >> 16) & 0xff;\n      const g = (rgb >> 8) & 0xff;\n      const b = (rgb >> 0) & 0xff;\n\n      return event === this.dragEvent\n        ? `rgba(${r}, ${g}, ${b}, 0.7)`\n        : event === this.createEvent\n        ? `rgba(${r}, ${g}, ${b}, 0.7)`\n        : event.color;\n    },\n\n    getEvents({ start, end }) {\n      const events = [];\n\n      const min = new Date(`${start.date}T00:00:00`).getTime();\n      const max = new Date(`${end.date}T23:59:59`).getTime();\n      const days = (max - min) / 86400000;\n      const eventCount = this.rnd(days, days + 20);\n\n      for (let i = 0; i < eventCount; i++) {\n        const timed = this.rnd(0, 3) !== 0;\n        const firstTimestamp = this.rnd(min, max);\n        const secondTimestamp = this.rnd(2, timed ? 8 : 288) * 900000;\n        const start = firstTimestamp - (firstTimestamp % 900000);\n        const end = start + secondTimestamp;\n\n        const allDay = this.rnd(0, 3) === 0;\n\n        events.push({\n          name: this.rndElement(this.names),\n          color: this.rndElement(this.colors),\n          start,\n          end,\n          timed,\n        });\n      }\n\n      this.events = events;\n    },\n    rnd(a, b) {\n      return Math.floor((b - a + 1) * Math.random()) + a;\n    },\n    rndElement(arr) {\n      return arr[this.rnd(0, arr.length - 1)];\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.v-event-draggable {\n  padding-left: 6px;\n}\n\n.v-event-timed {\n  user-select: none;\n  -webkit-user-select: none;\n}\n\n.v-event-drag-bottom {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 4px;\n  height: 4px;\n  cursor: ns-resize;\n\n  &::after {\n    display: none;\n    position: absolute;\n    left: 50%;\n    height: 4px;\n    border-top: 1px solid white;\n    border-bottom: 1px solid white;\n    width: 16px;\n    margin-left: -8px;\n    opacity: 0.8;\n    content: \"\";\n  }\n\n  &:hover::after {\n    display: block;\n  }\n}\n</style>\n"]}]}