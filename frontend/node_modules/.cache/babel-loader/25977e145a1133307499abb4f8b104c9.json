{"remainingRequest":"/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/node_modules/babel-loader/lib/index.js!/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/src/store/modules/auth/auth.js","dependencies":[{"path":"/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/src/store/modules/auth/auth.js","mtime":1649697980824},{"path":"/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/babel.config.js","mtime":1648118922441},{"path":"/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/node_modules/cache-loader/dist/cjs.js","mtime":1649410681772},{"path":"/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/node_modules/babel-loader/lib/index.js","mtime":1649410682196}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2lnb3IvMV9wZXRfcHJvamVjdHMvNF90b2RvX3VyZ2VudGEvdG9kby12dWUyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKdmFyIGF1dGhlbnRpY2F0aW9uID0gewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIHJlZ2lzdHJhdGlvbjogewogICAgICBuYW1lOiAnJywKICAgICAgcGhvbmVOdW1iZXI6ICcnLAogICAgICBlbWFpbDogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgY29uZmlybVBhc3N3b3JkOiAnJwogICAgfSwKICAgIGlzU2lnbmVkVXA6IGZhbHNlLAogICAgaXNTaWduZWRJbjogZmFsc2UsCiAgICBzaWduVXBFcnJvcjogbnVsbCwKICAgIHNpZ25JbkVycm9yOiBudWxsCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHVzZXJSZWdpc3RyYXRpb246IGZ1bmN0aW9uIHVzZXJSZWdpc3RyYXRpb24oc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUucmVnaXN0cmF0aW9uID0gcGF5bG9hZDsKICAgIH0sCiAgICBzZXRJc05vdFNpZ25lZFVwOiBmdW5jdGlvbiBzZXRJc05vdFNpZ25lZFVwKHN0YXRlKSB7CiAgICAgIHN0YXRlLmlzU2lnbmVkVXAgPSBmYWxzZTsKICAgIH0sCiAgICBzZXRJc1NpZ25lZFVwOiBmdW5jdGlvbiBzZXRJc1NpZ25lZFVwKHN0YXRlKSB7CiAgICAgIHN0YXRlLmlzU2lnbmVkVXAgPSB0cnVlOwogICAgfSwKICAgIHNldFNpZ25VcEVycm9yOiBmdW5jdGlvbiBzZXRTaWduVXBFcnJvcihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5zaWduVXBFcnJvciA9IHBheWxvYWQuZXJyb3I7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICB1c2VyUmVnaXN0cmF0aW9uOiBmdW5jdGlvbiB1c2VyUmVnaXN0cmF0aW9uKF9yZWYsIHBheWxvYWQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGF5bG9hZCwgIiBmcm9tIHVzZXJSZWdpc3RyYXRpb24iKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9yZWdpc3RyYXRpb24nLCB7CiAgICAgICAgICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKICAgICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IHBheWxvYWQucGhvbmVOdW1iZXIsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiBwYXlsb2FkLmVtYWlsLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGF5bG9hZC5wYXNzd29yZCwKICAgICAgICAgICAgICAgICAgY29uZmlybVBhc3N3b3JkOiBwYXlsb2FkLmNvbmZpcm1QYXNzd29yZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0SXNTaWduZWRVcCcpOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRTaWduVXBFcnJvcicsIHsKICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJZCcsIHJlc3BvbnNlLmRhdGEuaWQpOwogICAgICAgICAgICAgICAgY29tbWl0KCd1c2VyUmVnaXN0cmF0aW9uJywgcGF5bG9hZCk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldElzTm90U2lnbmVkVXAnKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0U2lnblVwRXJyb3InLCB7CiAgICAgICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dC50MC5tZXNzYWdlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTJdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgZ2V0dGVyczoge30KfTsKZXhwb3J0IGRlZmF1bHQgYXV0aGVudGljYXRpb247"},{"version":3,"sources":["/home/igor/1_pet_projects/4_todo_urgenta/todo-vue2/src/store/modules/auth/auth.js"],"names":["axios","authentication","namespaced","state","registration","name","phoneNumber","email","password","confirmPassword","isSignedUp","isSignedIn","signUpError","signInError","mutations","userRegistration","payload","setIsNotSignedUp","setIsSignedUp","setSignUpError","error","actions","commit","console","log","post","response","localStorage","setItem","data","id","message","getters"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,cAAc,GAAE;AAClBC,EAAAA,UAAU,EAAE,IADM;AAElBC,EAAAA,KAAK,EAAC;AACFC,IAAAA,YAAY,EAAC;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,WAAW,EAAE,EAFJ;AAGTC,MAAAA,KAAK,EAAE,EAHE;AAITC,MAAAA,QAAQ,EAAE,EAJD;AAKTC,MAAAA,eAAe,EAAE;AALR,KADX;AAQFC,IAAAA,UAAU,EAAE,KARV;AASFC,IAAAA,UAAU,EAAE,KATV;AAUFC,IAAAA,WAAW,EAAE,IAVX;AAWFC,IAAAA,WAAW,EAAE;AAXX,GAFY;AAgBlBC,EAAAA,SAAS,EAAC;AACNC,IAAAA,gBADM,4BACWZ,KADX,EACkBa,OADlB,EAC0B;AAC5Bb,MAAAA,KAAK,CAACC,YAAN,GAAmBY,OAAnB;AACH,KAHK;AAINC,IAAAA,gBAJM,4BAIWd,KAJX,EAIkB;AACpBA,MAAAA,KAAK,CAACO,UAAN,GAAmB,KAAnB;AACH,KANK;AAONQ,IAAAA,aAPM,yBAOQf,KAPR,EAOe;AACjBA,MAAAA,KAAK,CAACO,UAAN,GAAmB,IAAnB;AACH,KATK;AAWNS,IAAAA,cAXM,0BAWShB,KAXT,EAWgBa,OAXhB,EAWyB;AAC3Bb,MAAAA,KAAK,CAACS,WAAN,GAAoBI,OAAO,CAACI,KAA5B;AACH;AAbK,GAhBQ;AAgClBC,EAAAA,OAAO,EAAC;AACCN,IAAAA,gBADD,kCAC4BC,OAD5B,EACqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAlBM,gBAAAA,MAAkB,QAAlBA,MAAkB;AAAA;AAEjCC,gBAAAA,OAAO,CAACC,GAAR,CAAYR,OAAZ,EAAqB,wBAArB;AAFiC;AAAA,uBAGXhB,KAAK,CAACyB,IAAN,CAAW,eAAX,EAA2B;AAC7CpB,kBAAAA,IAAI,EAAEW,OAAO,CAACX,IAD+B;AAE7CC,kBAAAA,WAAW,EAAEU,OAAO,CAACV,WAFwB;AAG7CC,kBAAAA,KAAK,EAAES,OAAO,CAACT,KAH8B;AAI7CC,kBAAAA,QAAQ,EAAEQ,OAAO,CAACR,QAJ2B;AAK7CC,kBAAAA,eAAe,EAAEO,OAAO,CAACP;AALoB,iBAA3B,CAHW;;AAAA;AAG9BiB,gBAAAA,QAH8B;AAWjCJ,gBAAAA,MAAM,CAAC,eAAD,CAAN;AACAA,gBAAAA,MAAM,CAAC,gBAAD,EAAmB;AACrBF,kBAAAA,KAAK,EAAE;AADc,iBAAnB,CAAN;AAGAO,gBAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BF,QAAQ,CAACG,IAAT,CAAcC,EAA7C;AACAR,gBAAAA,MAAM,CAAC,kBAAD,EAAqBN,OAArB,CAAN;AAhBiC;AAAA;;AAAA;AAAA;AAAA;AAkBjCM,gBAAAA,MAAM,CAAC,kBAAD,CAAN;AACAA,gBAAAA,MAAM,CAAC,gBAAD,EAAmB;AACrBF,kBAAAA,KAAK,EAAE,YAAIW;AADU,iBAAnB,CAAN;;AAnBiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBxC;AAzBG,GAhCU;AA2DlBC,EAAAA,OAAO,EAAC;AA3DU,CAAtB;AAkEA,eAAe/B,cAAf","sourcesContent":["import axios from \"axios\";\n\nconst authentication ={\n    namespaced: true,\n    state:{\n        registration:{\n            name: '',\n            phoneNumber: '',\n            email: '',\n            password: '',\n            confirmPassword: ''\n        },\n        isSignedUp: false,\n        isSignedIn: false,\n        signUpError: null,\n        signInError: null\n\n    },\n    mutations:{\n        userRegistration(state, payload){\n            state.registration=payload\n        },\n        setIsNotSignedUp(state) {\n            state.isSignedUp = false\n        },\n        setIsSignedUp(state) {\n            state.isSignedUp = true\n        },\n\n        setSignUpError(state, payload) {\n            state.signUpError = payload.error\n        },\n\n    },\n    actions:{\n      async  userRegistration({commit}, payload) {\n            try{\n                console.log(payload, \" from userRegistration\")\n             const response = await   axios.post('/registration',{\n                    name: payload.name,\n                    phoneNumber: payload.phoneNumber,\n                    email: payload.email,\n                    password: payload.password,\n                    confirmPassword: payload.confirmPassword\n\n                })\n                commit('setIsSignedUp')\n                commit('setSignUpError', {\n                    error: null,\n                })\n                localStorage.setItem('userId', response.data.id)\n                commit('userRegistration', payload)\n            }catch (err){\n                commit('setIsNotSignedUp')\n                commit('setSignUpError', {\n                    error: err.message\n                })\n            }\n\n        }\n    },\n    getters:{\n\n    }\n\n}\n\n\nexport default authentication"]}]}